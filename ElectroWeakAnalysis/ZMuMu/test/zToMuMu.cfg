process zToMuMu= {
      include "FWCore/MessageLogger/data/MessageLogger.cfi"

      untracked PSet maxEvents = { untracked int32 input = 11000 }

      source = PoolSource {
            untracked vstring fileNames = {
                  "/store/mc/2007/9/30/CSA07-DrellYan_mumu_40-A2/0000/0002E7A8-706F-DC11-B7C4-0016177CA778.root"
            }
            untracked uint32 debugVerbosity = 0
            untracked bool   debugFlag     = false
      }
      //CSA07 Signal samples (100/pb miscalibration/misalignment)	
      //replace PoolSource.fileNames = {
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/00040CB2-D48A-DC11-9BBC-0019B9E48AD8.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/083F3B86-D98A-DC11-8C52-0019B9E4FD9D.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/107972E7-D18A-DC11-9906-0019B9E4F82C.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/109FC3D9-D18A-DC11-ACB0-0019B9E50108.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/1C0985D4-D18A-DC11-B674-0019B9E500D1.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/1C0C5381-D18A-DC11-AD97-0019B9E4FDCF.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/225208DB-D08A-DC11-8CA1-0019B9E490C1.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/225E1C3B-D38A-DC11-ABF6-0019B9E4FBB8.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/26A1CDF0-CF8A-DC11-B01B-0019B9E4937C.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/281A2F75-D38A-DC11-BA13-0019B9E7C86C.root',
	//	'/store/mc/2007/10/19/CSA07-Zmumu-1192835913/0000/3216E67B-CE8A-DC11-942E-0019B9E4FD20.root'
      //}
     //0/pb miscalibration/misalignment	
     //replace PoolSource.fileNames = {
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/00031319-28AC-DC11-9603-000423D655A2.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/041FA5FC-2DAC-DC11-90C6-000E0C3E6C89.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/049DB36D-21AC-DC11-B839-001617DBD598.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/06B09282-31AC-DC11-B747-001617DBCF46.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/08963B12-25AC-DC11-86BC-001617DBD598.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/0A312C6D-28AC-DC11-80EE-003048560EAC.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/0A6AF3A6-2AAC-DC11-9031-001617C3B6B4.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/0AD00110-2AAC-DC11-961E-001617DBD248.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/0E161410-32AC-DC11-A9A1-000423D6B790.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/0E367D6B-20AC-DC11-AD36-00304885B272.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/10281E8C-24AC-DC11-8855-001617C3B724.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/1032EC3E-3FAC-DC11-9FDC-000423D6B228.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/105B4E73-2FAC-DC11-BBF0-001617DBCF46.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/10EACBB6-20AC-DC11-BC24-00304885ABA6.root',
	//	'/store/mc/2007/12/16/ReReco0pb-Zmumu-1197808352/0000/12405D81-26AC-DC11-9480-000423D999BA.root'
      //}
      //10/pb miscalibration/misalignment        
      replace PoolSource.fileNames = {
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/00D07FF9-61AD-DC11-AF32-001617DBD1FC.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0233CCCF-5CAD-DC11-9675-00304858E00E.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/02750873-68AD-DC11-8194-003048561202.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/04C66111-5FAD-DC11-BE32-001617DBD23A.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/06187F90-64AD-DC11-A0CF-000423D59C4E.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0645BDEA-62AD-DC11-86EB-000423D65AAA.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/06A56186-59AD-DC11-A42C-000423D98760.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/06D62445-56AD-DC11-A2E3-000423D95244.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/06E2C157-59AD-DC11-9C49-001617DBCF46.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0825DCAA-60AD-DC11-8C80-00304885A744.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0837EA61-5CAD-DC11-AA5D-00304885B1FC.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/08713508-54AD-DC11-9FAD-003048562F5A.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0A92B8B4-56AD-DC11-8F05-00304885A754.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0AFBA755-5DAD-DC11-99CC-000E0C3F0909.root',
		'/store/mc/2007/12/17/ReReco10pb-Zmumu-1197913516/0001/0E2B047D-64AD-DC11-97E0-000423D98EE0.root'
      }	
      #Skim for ZToMuMu	
      include "ElectroWeakAnalysis/ZReco/data/zToMuMuNew_SkimPaths.cff"
      //include "ElectroWeakAnalysis/ZReco/data/zToMuMuHLTFilter.cfi"
 	
      #Muon corrections for MET	
      include "JetMETCorrections/Type1MET/data/MetMuonCorrections.cff"		 	
      path muonMETcorr = {MetMuonCorrections}

      #Jet corrections for MET		
      #es_source MCJetCorrectorIcone5 = MCJetCorrectionService {
      #      string tagName = 'CMSSW_152_iterativeCone5'
      #      string label = 'MCJetCorrectorIcone5' 
      #}
      #include "JetMETCorrections/Type1MET/data/MetType1Corrections.cff"
      #replace corMetType1Icone5.inputUncorMetLabel = "corMetGlobalMuons"
      #path jetMETcorr = {corMetType1Icone5}	

      #include "JetMETCorrections/MCJet/data/MCJetCorrections152.cff"
      #es_prefer MCJetCorrectorIcone5 = MCJetCorrectionService {}

      #module corMetMuonCorrMCJetCorr = corMetType1Icone5 from "JetMETCorrections/Type1MET/data/MetType1Corrections.cff"
      #replace corMetMuonCorrMCJetCorr.inputUncorMetLabel = "corMetGlobalMuons"
      #replace corMetMuonCorrMCJetCorr.inputUncorJetsLabel = "iterativeCone5CaloJets"	
      #replace corMetMuonCorrMCJetCorr.corrector = "MCJetCorrectorIcone5"	
      #path MCJetMETcorr = {corMetMuonCorrMCJetCorr}

      #include "ElectroWeakAnalysis/ZMuMu/data/L2RelativeCorrection152.cff"
      #es_prefer L2JetCorrectorIcone5 = L2RelativeCorrectionService {}	
	
      #module corMetMuonCorrL2JetCorr = corMetL2Icone5 from "ElectroWeakAnalysis/ZMuMu/data/MetL2L3Corrections.cff"
      #replace corMetMuonCorrL2JetCorr.inputUncorMetLabel = "corMetGlobalMuons"
      #replace corMetMuonCorrL2JetCorr.inputUncorJetsLabel = "iterativeCone5CaloJets"
      #replace corMetMuonCorrL2JetCorr.corrector = "L2RelativeJetCorrectorIcone5"	
      #path L2JetMETcorr = {corMetMuonCorrL2JetCorr}		

      #include "ElectroWeakAnalysis/ZMuMu/data/L3AbsoluteCorrection152.cff"

      #module corMetMuonCorrL3JetCorr = corMetL3Icone5 from "ElectroWeakAnalysis/ZMuMu/data/MetL2L3Corrections.cff"
      #replace corMetMuonCorrL3JetCorr.inputUncorMetLabel = "corMetMuonCorrL2JetCorr"
      #replace corMetMuonCorrL3JetCorr.inputUncorJetsLabel = "L2JetCorJetIcone5"
      #replace corMetMuonCorrL3JetCorr.corrector = "L3AbsoluteJetCorrectorIcone5"        
      #path L3JetMETcorr = {L2JetCorJetIcone5,corMetMuonCorrL3JetCorr}
	
      include "ElectroWeakAnalysis/ZReco/data/zToMuMuNew_EventContent.cff"
      include "Configuration/EventContent/data/EventContent.cff"
      block MyEventContent = {
        untracked vstring outputCommands = {
                'keep *_corMetGlobalMuons_*_*'
                #'keep *_corMetMuonCorrMCJetCorr_*_*',
		#'keep *_corMetMuonCorrL2JetCorr_*_*',
		#'keep *_corMetMuonCorrL3JetCorr_*_*'
        }
      }	

      block AODSIMZToMuMuNewEventContent = {
  	untracked vstring outputCommands = { 
  	}
      }

      replace AODSIMZToMuMuNewEventContent.outputCommands += AODSIMEventContent.outputCommands
      replace AODSIMZToMuMuNewEventContent.outputCommands += zToMuMuNewEventContent.outputCommands 	 
      replace AODSIMZToMuMuNewEventContent.outputCommands += MyEventContent.outputCommands	

      module zToMuMuNewOutputModule = PoolOutputModule {
  	untracked string fileName = "/tmp/antoniov/zToMuMuSkim_ReReco10pb.root"
  	using AODSIMZToMuMuNewEventContent
  	using zToMuMuNewEventSelection
  	untracked PSet dataset ={
    		untracked string dataTier = "USER"
    		untracked string filterName = "zToMuMuSkim"
  	}
      }	

      endpath ep = {zToMuMuNewOutputModule}		
}
